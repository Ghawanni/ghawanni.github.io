---
tags: [قواعد بيانات,هندسة برمجيات,علم بيانات, سلسلة زبدة قواعد البيانات]
permalink: database-concepts-pt-2
---

اهلا! 👋🏻
استكمالا لسلسلة [زبدة قواعد البيانات](https://ghawanni.com/tags/#%D8%B3%D9%84%D8%B3%D9%84%D8%A9-%D8%B2%D8%A8%D8%AF%D8%A9-%D9%82%D9%88%D8%A7%D8%B9%D8%AF-%D8%A7%D9%84%D8%A8%D9%8A%D8%A7%D9%86%D8%A7%D8%AA)، اليوم حنتكلم عن كيف محركات قواعد البياينات تحفظ المعلومات في الذاكرة، وهل هذا المستوى من التفصيل والتعمق مهم فعلا لك كشحص تقني او لا.


> حاكون ممتن لو ساعدتني على نشر العمل هذا عن طريق ارسال المدونة لاحد ممكن يستفيد منها، فالاخير الهدف هو نشر محتوى عربي تقني بجودة عالية مجانا؛ مساعدتك لي في هذا الهدف يعني لي الكثير. 🐳🍉
> 
> \- غوني

 اليوم باغطي بعض من اهم االمفاهيم اللي تعتبر أساسية في عالم قواعد البيانات، وهي:
- [مقدمة 🙇‍♂️](#مقدمة-️)
- [العصور الأولى: خلينا نسوي قاعدة بيانات 🦍](#العصور-الأولى-خلينا-نسوي-قاعدة-بيانات-)
  - [البداية: جائزة ابسط (و أغبى) قاعدة بيانات فالعالم 🥇](#البداية-جائزة-ابسط-و-أغبى-قاعدة-بيانات-فالعالم-)
  - [المؤشرات (Index) تنقذ اليوم 📈](#المؤشرات-index-تنقذ-اليوم-)
  - [الاشجار، ما أحلى الاشجار 🌲](#الاشجار-ما-أحلى-الاشجار-)
- [طيب خلينا نقلب الصفوف عواميد 🤸🏻‍♂️](#طيب-خلينا-نقلب-الصفوف-عواميد-️)
  - [التأثير على طريقة الحفظ وقرب البيانات من بعضها 🫂](#التأثير-على-طريقة-الحفظ-وقرب-البيانات-من-بعضها-)
  - [اختار: نحلل بيانات (OLAP)؟ ولا نخدم مستخدم (OLTP)؟ 🔎](#اختار-نحلل-بيانات-olap-ولا-نخدم-مستخدم-oltp-)
  - [تقنيات تطبق الحفظ العامودي 🗃️](#تقنيات-تطبق-الحفظ-العامودي-️)
- [العصور الحديثة: كل شيء صار قاعدة بيانات! 🕺](#العصور-الحديثة-كل-شيء-صار-قاعدة-بيانات-)
  - [نكهات واستخدامات حديثة ومشوقة 🍹](#نكهات-واستخدامات-حديثة-ومشوقة-)
  - [اذا لازم نتفاهم ونتفق على طريقة التواصل 🤝](#اذا-لازم-نتفاهم-ونتفق-على-طريقة-التواصل-)
  - [لو فيه تطور، لازم نتطور سوا 🐥](#لو-فيه-تطور-لازم-نتطور-سوا-)
  - [Remote Procedure Call (RPC) - موضوع استحق قسمه](#remote-procedure-call-rpc---موضوع-استحق-قسمه)
- [الملخص (⚠️ فيه حرق)](#الملخص-️-فيه-حرق)

# مقدمة 🙇‍♂️
خلينا نبدأ بإجابة السؤال الأول: هل فعلا مهم لي، كشخص تقني، فهم الاشياء اللي تحصل خلف الكواليس في قاعدة البيانات اللي اتسخدمها؟ الجواب هو **نعم، مهم**. والسبب هو ان التقنيات اللي تطبق هذه المفاهيم **مختلفة**، ولكل واحدة منها سبب واستخدام تكون هي الامثل فيه. معرفتك لهذه المفاهيم وفهمك لسبب تطوير قاعدة البيانات بهذا الشكل يقلل من مشاكل جذرية قد تواجها بسبب عدم اتساق بياناتك مع ذلك "الاستخدام الأمثل"، او اضطرارك لتغيير التقنية بعد كبر حجم البيانات وكثرة استخدامها بسبب زيادة عدد المستخدمين، الخدمات، او غيره.

غير عن ذلك، معرفتك لهذه المبادئ، *بالعمق الكافي*، يجعلك واثق في بحثك لحل اي مشاكل قد تواجهك، وفهمك لوجهة نظر محرك قاعدة البيانات عن العالم. هذا غير سهولة التواصل بينك وبين فريقك لشرح المشكلة، سببها، وخطة حلها. 

والآن، وبعد الاجابة عن السؤال الأول، خلينا نتكلم عن المبدأ خلف اي محرك قواعد بيانات ونبني من هناك.

# العصور الأولى: خلينا نسوي قاعدة بيانات 🦍 
قواعد البيانات، بيعدا عن كل التقعيد، زبدتها بسيطة: **نبغا طريقة نحفظ فيها بيانات** بشكل **دائم**، ويكون فيه طريقة **نسترجع البيانات** اللي حفظناها في الماضي.
بهذا المبدأ والتبسيط، نسوي قاعدة بيانات مع بعض تقدر تخدمنا في هذه الخاصية البسيطة.


## البداية: جائزة ابسط (و أغبى) قاعدة بيانات فالعالم 🥇
خلينا نشوف قاعدة بيانات بـPython نسميها قاعدة بيانات GhawanniBase:
```python
import json
import os

# Define the file where data will be stored
DATA_FILE = 'GhawanniBase.json'

def store(key, data):
    entry = {'key': key, 'data': data}
    
    # Append the entry to the file
    with open(DATA_FILE, 'a') as file:
        file.write(json.dumps(entry) + '\n')

def query(key):
    latest_data = None
    
    # Check if the file exists
    if os.path.exists(DATA_FILE):
        with open(DATA_FILE, 'r') as file:
            for line in file:
                entry = json.loads(line)
                if entry['key'] == key:
                    latest_data = entry['data']
    
    return latest_data
```
الفكرة سهلة، كل اللي صار هنا 👆 انه فيه عندنا خاصيتين، حفظ بيانات واسترجاع بيانات. 
نوع فاعدة البيانات هذه، [*مثل ما قلنا في اول منشور في السلسة*](https://ghawanni.com/database-concepts-pt-1)، من نوع Key-Value Pairs، و مثل ما تلاحط، قاعدين تحفظ اي مدخل كسطر جديد في ملف، حتى لو كان المفتاح متكرر اكثر من مره، ولهذا السبب، في خاصية الاسترجاع `query` نرجع آخر مدخل لقاعدة البيانات فقط.

هذه خاصية (ليست عيب 😎) **ممتازة** جدا لو كان فيه **كتابة بشكل كبير** في قاعدة البيانات حقتنا، لانه ماصار فيه الخطوات التالية عند اضافة object جديد:
1. بحث عن المفتاح في قاعدة البيانات
   1. تحديث الـobject في حال وجوده من قبل
   2. اضافة جديد في حال عدم وجوده
فصرنا نتخطى هذه الخطوات ونضيف على طول، وخلينا التأكد من ان استرجاع آخر ملف وقت القراءة.

صراحة سوينا شيء رهيب نظرا ان نظامنا اقل من 25 سطر سهلة الفهم. ولكن طبعا، مافيها اي من المقومات اللازمة حتى تكون قاعدة بيانات حقيقية، ومن هذه المقومات:
* البحث بكفاءة عالية بدلالة مفتاح متفق عليه من قبل
* البحث عن طريق نمط معين في البيانات او بأي مفتاح من مفاتيح الـobject (حتى لو بكفاءة اقل)
* دعم عدة عمليات كتابة من مستخدمين مختلفين بالتوازي
* تقسيم قاعدة البيانات الى عدة اجهزة في حال كبرت (partitioning / sharding)
* عمل عدة نسخ من قاعدة البيانات وتزامنها مع بعضها للحماية من تعطل الخدمة او خسارة البيانات (replication)
* القائمة تطووول.. 📜

خلينا نبدأ نشوف كيف مطورين قواعد البيانات طوروا الخواص المذكورة اعلاه؛ ونبدأ بأهم خاصية في أي قاعدة بيانات: لو بحثت، ابغا النتيجة **الصحيحة** و **بسرعة**، والحل كان المؤشرات او Indexes

## المؤشرات (Index) تنقذ اليوم 📈


## الاشجار، ما أحلى الاشجار 🌲

# طيب خلينا نقلب الصفوف عواميد 🤸🏻‍♂️

## التأثير على طريقة الحفظ وقرب البيانات من بعضها 🫂

## اختار: نحلل بيانات (OLAP)؟ ولا نخدم مستخدم (OLTP)؟ 🔎

## تقنيات تطبق الحفظ العامودي 🗃️

# العصور الحديثة: كل شيء صار قاعدة بيانات! 🕺

## نكهات واستخدامات حديثة ومشوقة 🍹

## اذا لازم نتفاهم ونتفق على طريقة التواصل 🤝

## لو فيه تطور، لازم نتطور سوا 🐥

## Remote Procedure Call (RPC) - موضوع استحق قسمه

# الملخص (⚠️ فيه حرق)



---
**جوك فيديوهات؟ 📼**

هذا فيديو [بيفابت](https://www.youtube.com/@befabit) اللي اتكلمنا فيه انا وعبدالرحمن الرحمة عن الـSQL Databases وتطرقنا فالكلام الى طريقة حفظ البيانات:
<iframe width="560" height="315" src="https://www.youtube.com/embed/TONcOtDI8cw?si=qfBDlX0h_4Vh1msC" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>